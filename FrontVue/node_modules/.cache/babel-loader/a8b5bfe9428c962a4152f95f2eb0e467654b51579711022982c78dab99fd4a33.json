{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from 'vuex';\nimport CardStudentClasses from '../layout/CardStudentClasses.vue';\nimport Divider from '../layout/Divider.vue';\nimport LinkMeetModal from '../layout/LinkMeetModal.vue';\nimport SimpleSearchBar from '../layout/SimpleSearchBar.vue';\nexport default {\n  components: {\n    Divider,\n    LinkMeetModal,\n    SimpleSearchBar,\n    CardStudentClasses\n  },\n  computed: {\n    ...mapGetters(['isAuthenticated', 'user'])\n  },\n  async mounted() {\n    const user = JSON.parse(JSON.stringify(this.user));\n    let result = await this.$store.dispatch('getTutoriasMarcadas', {\n      id: user.data.id,\n      type: 'aluno_id'\n    });\n    console.log(result);\n    let tutoriaStatus = await this.$store.dispatch('getTutoriaStatus');\n    let subjects = await this.$store.dispatch('getSubjects');\n    if (result.data.length > 0) {\n      for (let i = 0; i < result.data.length; i++) {\n        const tutor_id = result.data[i]['tutor_id'];\n        let tutor = await this.$store.dispatch('getTutorByID', {\n          id: tutor_id\n        });\n        let dataFormatada = undefined;\n        let horarios = await this.$store.dispatch('getHorarios');\n        for (let n = 0; n < horarios.data.length; n++) {\n          if (result.data[i]['horario_id'] == horarios.data[n]['id']) dataFormatada = this.formatarData(horarios.data[n]['data'], horarios.data[n]['hora']);\n        }\n        let agendada = false;\n        let analise = false;\n        let recusada = false;\n        for (let j = 0; j < tutoriaStatus.data.length; j++) {\n          if (tutoriaStatus.data[j]['id'] === result.data[i]['tutoria_status_id']) {\n            if (tutoriaStatus.data[j]['descricao'] === \"AGENDADA\") agendada = true;\n            if (tutoriaStatus.data[j]['descricao'] === \"EM ANALISE\") analise = true;\n            if (tutoriaStatus.data[j]['descricao'] === \"RECUSADA\") recusada = true;\n          }\n        }\n        let studentAutoAvaliation = [];\n        for (let m = 0; m < subjects.length; m++) {\n          if (subjects[m]['aluno_id'] === user.data.id) {\n            if (subjects[m]['tutor_id'] === tutor_id) {\n              studentAutoAvaliation.push({\n                subject: subjects[m]['assunto_selecionado'],\n                avaliation: subjects[m]['nota']\n              });\n            }\n          }\n        }\n        this.confirmedClasses.push({\n          teacherName: tutor.data[0]['nome'] + \" \" + tutor.data[0]['sobrenome'],\n          reservationTime: dataFormatada,\n          studentDificults: result.data[i]['maiores_dificuldades'],\n          studentAutoAvaliation: studentAutoAvaliation,\n          agendada: agendada,\n          analise: analise,\n          recusada: recusada,\n          link: result.data[i]['link']\n        });\n        this.flag_classes = true;\n      }\n    }\n  },\n  data() {\n    return {\n      classes: [],\n      flag_classes: false,\n      have_classes: true,\n      isModalVisible: false,\n      confirmedClasses: []\n    };\n  },\n  methods: {\n    showModal() {\n      this.isModalVisible = !this.isModalVisible;\n    },\n    formatarData(data, hora) {\n      const dataHora = new Date(`${data}T${hora}`);\n      const dia = dataHora.getDate();\n      const mes = dataHora.toLocaleString('pt-BR', {\n        month: 'long'\n      }); // Nome completo do mês\n      const ano = dataHora.getFullYear();\n      const horas = dataHora.getHours();\n      const minutos = dataHora.getMinutes();\n      const dataFormatada = `${dia} de ${mes} de ${ano} às ${horas}:${minutos}`;\n      return dataFormatada;\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","CardStudentClasses","Divider","LinkMeetModal","SimpleSearchBar","components","computed","mounted","user","JSON","parse","stringify","result","$store","dispatch","id","data","type","console","log","tutoriaStatus","subjects","length","i","tutor_id","tutor","dataFormatada","undefined","horarios","n","formatarData","agendada","analise","recusada","j","studentAutoAvaliation","m","push","subject","avaliation","confirmedClasses","teacherName","reservationTime","studentDificults","link","flag_classes","classes","have_classes","isModalVisible","methods","showModal","hora","dataHora","Date","dia","getDate","mes","toLocaleString","month","ano","getFullYear","horas","getHours","minutos","getMinutes"],"sources":["/home/rodrigo/PDS-MatEduca/FrontVue/src/components/aluno/Classes.vue"],"sourcesContent":["<template>\n  <section class = \"class\">\n    <h1>Próximas aulas</h1>\n    <div class=\"classes\">\n        <section  class=\"aproved-requisitions\" v-if=\"flag_classes\">\n            <card-student-classes :confirmedClasses=\"confirmedClasses\"/>\n        </section>\n        <div class=\"no-item\" v-if=\"!flag_classes\">\n            <div class=\"item-img\">\n                <img\n                    src=\"../../assets/img/agenda.png\"\n                    alt=\"Agenda\"\n                    class=\"img\"\n                />\n            </div>\n            <h1 style=\"font-weight: 100\">Você ainda não agendeu nenhuma aula.</h1>\n            <button class=\"button-classes\">\n                <router-link to=\"/\" style=\"text-decoration: None\">\n                    <div class=\"button-items\">\n                        <img\n                            src=\"../../assets/img/seta.png\"\n                            class=\"arrow\"\n                        />\n                        <a class=\"a-classes\">Ver Professores</a>\n                    </div>\n                </router-link>\n            </button>\n        </div>\n\n        <div class=\"hist\">\n            <h4 class=\"hist-classes-title\">Histórico de Aulas</h4>\n            <div class=\"classes-hist\" v-if=\"!have_classes\">\n                <a class=\"classes-hist-a\">Nenhuma aula realizada</a>\n            </div>\n            <div class=\"classes-hist\" v-if=\"have_classes\">\n                <SimpleSearchBar/>\n            </div>\n        </div>\n    </div>\n</section>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport CardStudentClasses from '../layout/CardStudentClasses.vue';\n\nimport Divider from '../layout/Divider.vue';\nimport LinkMeetModal from '../layout/LinkMeetModal.vue';\nimport SimpleSearchBar from '../layout/SimpleSearchBar.vue';\nexport default {\n  components: { Divider, LinkMeetModal, SimpleSearchBar, CardStudentClasses },\n    computed: {\n        ...mapGetters(['isAuthenticated', 'user']),\n    },\n    async mounted() {\n        const user = JSON.parse(JSON.stringify(this.user))\n        let result = await this.$store.dispatch('getTutoriasMarcadas', {id: user.data.id, type: 'aluno_id'});\n\n\n        console.log(result)\n        let tutoriaStatus = await this.$store.dispatch('getTutoriaStatus');\n        let subjects = await this.$store.dispatch('getSubjects');\n\n        \n        if (result.data.length > 0)\n        {\n            for (let i = 0; i < result.data.length; i++){\n                const tutor_id = result.data[i]['tutor_id']\n                \n                let tutor = await this.$store.dispatch('getTutorByID', {id: tutor_id});\n                \n                let dataFormatada = undefined\n\n                let horarios = await this.$store.dispatch('getHorarios');\n                for (let n = 0; n < horarios.data.length; n++){\n                        if (result.data[i]['horario_id'] == horarios.data[n]['id'])\n                            dataFormatada = this.formatarData(horarios.data[n]['data'], horarios.data[n]['hora']);\n                }\n                \n                let agendada = false\n                let analise = false\n                let recusada = false\n                for (let j = 0; j < tutoriaStatus.data.length; j++){\n                    if (tutoriaStatus.data[j]['id'] === result.data[i]['tutoria_status_id']) {\n                        if (tutoriaStatus.data[j]['descricao'] === \"AGENDADA\")\n                            agendada = true\n                        if (tutoriaStatus.data[j]['descricao'] === \"EM ANALISE\")\n                            analise = true\n                        if (tutoriaStatus.data[j]['descricao'] === \"RECUSADA\")\n                            recusada = true\n                    }\n                }\n\n\n                let studentAutoAvaliation = []\n                for (let m = 0; m < subjects.length; m++){\n                    if (subjects[m]['aluno_id'] === user.data.id) {\n                        if (subjects[m]['tutor_id'] === tutor_id) {\n                            studentAutoAvaliation.push({\n                                subject: subjects[m]['assunto_selecionado'], \n                                avaliation: subjects[m]['nota']\n                            })\n                        }\n                    }\n                }\n\n                this.confirmedClasses.push({\n                    teacherName: tutor.data[0]['nome'] + \" \" + tutor.data[0]['sobrenome'],\n                    reservationTime: dataFormatada,\n                    studentDificults: result.data[i]['maiores_dificuldades'],\n                    studentAutoAvaliation: studentAutoAvaliation,\n                    agendada: agendada,\n                    analise: analise,\n                    recusada: recusada,\n                    link: result.data[i]['link']\n                })\n\n\n                this.flag_classes = true\n            }\n        }\n    },\n    data(){\n        return{\n            classes: [],\n            flag_classes: false,\n            have_classes: true,\n            isModalVisible: false,\n            confirmedClasses: []\n        }\n    },\n    methods:{\n        showModal(){\n            this.isModalVisible = !this.isModalVisible\n        },\n        formatarData(data, hora) {\n            const dataHora = new Date(`${data}T${hora}`);\n\n            const dia = dataHora.getDate();\n            const mes = dataHora.toLocaleString('pt-BR', { month: 'long' }); // Nome completo do mês\n            const ano = dataHora.getFullYear();\n            const horas = dataHora.getHours();\n            const minutos = dataHora.getMinutes();\n\n            const dataFormatada = `${dia} de ${mes} de ${ano} às ${horas}:${minutos}`;\n\n            return dataFormatada;\n        }\n    }\n}\n</script>\n\n<style scoped>\nsection.class{\n    display: flex;\n    flex-direction: column;\n    margin-left: 8%;\n}\n.p {\n    padding-right: 10px;\n\n}\ndiv.links{\n    display: flex;\n    margin: 20px;\n    flex-direction: row;\n    flex-wrap: wrap;\n    margin-left: 8%;\n}\n.links p{\n    font-family: Helvetica Neue;\n    font-weight: 400;\n    margin: 5px;\n}\n\n.button-classes{\n    background-color: #003773;\n    border-radius: 4px;\n    width: 166px;\n    height: 48px;\n\n}\n\n.button-items {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n}\n.arrow{\n    width: 24px;\n    height: 24px;\n    margin-right: 5px;\n}\n\n.classes-hist-a{\n    font-family: 'Helvetica Neue';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 150%;\n}\n\n.a-classes {\n    font-family: 'Helvetica Neue';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 150%;\n\n    color: white;\n\n}\n\n.hist{\n    margin-top: 5%;\n}\n.hist-classes-title{\n    color: var(--neutral-600, #14161F);\n    font-family: Helvetica Neue;\n    font-size: 20px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n}\n.item-img{\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    padding: 32px;\n    gap: 8px;\n\n    /* Primary/50 */\n    background: #F2F6FB;\n    border-radius: 99px;\n\n    width: 64px;\n    height: 64px;\n}\n\n.img{\n    /* Auto layout */\n\n\n    /* Calendar / Calendar */\n    width: 64px;\n    height: 64px;\n\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}